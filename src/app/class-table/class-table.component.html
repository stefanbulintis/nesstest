<app-search (search)="onSearch($event)"></app-search>

<table mat-table [dataSource]="classes">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Class Name</th>
      <td mat-cell *matCellDef="let cls">{{ cls.name }}</td>
    </ng-container>
  
    <ng-container matColumnDef="teacher">
      <th mat-header-cell *matHeaderCellDef>Teacher Name</th>
      <td mat-cell *matCellDef="let cls">{{ cls.teacher }}</td>
    </ng-container>
  
    <ng-container matColumnDef="occupancy">
      <th mat-header-cell *matHeaderCellDef>Class Occupancy</th>
      <td mat-cell *matCellDef="let cls">
        <app-occupancy [maxNoOfStudents]="cls.maxNoOfStudents" [students]="cls.students"></app-occupancy>
      </td>
    </ng-container>

    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef>Delete</th>
      <td mat-cell *matCellDef="let cls">
        <button mat-icon-button color="warn" (click)="deleteClass(cls.name)">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="addStudent">
      <th mat-header-cell *matHeaderCellDef>Add Student</th>
      <td mat-cell *matCellDef="let cls">
        <button mat-icon-button color="solid"(click)="openAddStudentDialog(cls.name)" [disabled]="cls.students.length === cls.maxNoOfStudents">
          <mat-icon>add</mat-icon>
          </button>
        </td>
      </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="['name', 'teacher', 'occupancy', 'delete' , 'addStudent']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['name', 'teacher', 'occupancy', 'delete', 'addStudent'];"></tr>
  </table>
  